define(["./core","./core/access","./core/camelCase","./data/var/dataPriv","./data/var/dataUser"],function(t,e,a,n,r){"use strict";function i(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:o.test(t)?JSON.parse(t):t)}function s(t,e,a){var n;if(void 0===a&&1===t.nodeType)if(n="data-"+e.replace(c,"-$&").toLowerCase(),a=t.getAttribute(n),"string"==typeof a){try{a=i(a)}catch(s){}r.set(t,e,a)}else a=void 0;return a}var o=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,c=/[A-Z]/g;return t.extend({hasData:function(t){return r.hasData(t)||n.hasData(t)},data:function(t,e,a){return r.access(t,e,a)},removeData:function(t,e){r.remove(t,e)},_data:function(t,e,a){return n.access(t,e,a)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(t,i){var o,c,u,f=this[0],d=f&&f.attributes;if(void 0===t){if(this.length&&(u=r.get(f),1===f.nodeType&&!n.get(f,"hasDataAttrs"))){for(o=d.length;o--;)d[o]&&(c=d[o].name,0===c.indexOf("data-")&&(c=a(c.slice(5)),s(f,c,u[c])));n.set(f,"hasDataAttrs",!0)}return u}return"object"==typeof t?this.each(function(){r.set(this,t)}):e(this,function(e){var a;if(f&&void 0===e){if(a=r.get(f,t),void 0!==a)return a;if(a=s(f,t),void 0!==a)return a}else this.each(function(){r.set(this,t,e)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){r.remove(this,t)})}}),t});